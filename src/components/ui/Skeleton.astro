---
interface Props {
  class?: string;
  width?: string;
  height?: string;
  rounded?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
}

const {
  class: className = '',
  width = '100%',
  height = '1rem',
  rounded = 'md'
} = Astro.props;

const roundedClasses = {
  sm: 'rounded-sm',
  md: 'rounded-md',
  lg: 'rounded-lg',
  xl: 'rounded-xl',
  full: 'rounded-full'
};
---

<div
  class:list={['skeleton', roundedClasses[rounded], className]}
  style={`width: ${width}; height: ${height};`}
  aria-hidden="true"
/>

<style>
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-stone-800) 0%,
      var(--color-stone-700) 50%,
      var(--color-stone-800) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .skeleton {
      animation: none;
      background: var(--color-stone-800);
    }
  }
</style>
